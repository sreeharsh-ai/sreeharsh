import React, { useState } from "react";

// NOTE: Tailwind is available. This is a single-file React portfolio as requested.
// Theme: dark, elegant, with multicolor accents. Mobile-first, fully responsive.
// Photo path uses your exact filename; ensure the image exists in /assets/ with this name.

export default function Portfolio() {
  const [modal, setModal] = useState(null as null | string);

  const tiles: Array<{
    id: string;
    title: string;
    img: string;
    blurb: string;
    detail: React.ReactNode;
    cta?: { label: string; href: string };
  }> = [
    {
      id: "work",
      title: "Previous Work (loading soon)",
      img: "/assets/work-cover.jpg",
      blurb:
        "Space reserved for upcoming case studies — data cleaning ➜ viz ➜ insights.",
      detail: (
        <div className="space-y-3 text-slate-300">
          <p>
            This section will host deep-dive writeups: problem, dataset, approach,
            SQL/Python snippets, visualizations, and business impact. Add images to
            /assets/work1-*.png and update the tile to showcase each case.
          </p>
          <ul className="list-disc pl-5 text-sm">
            <li>Real datasets (CSV) → cleaning & feature engineering</li>
            <li>SQL queries, Pandas notebooks, and dashboards</li>
            <li>Clear before/after visuals and key takeaways</li>
          </ul>
        </div>
      ),
    },
    {
      id: "skills",
      title: "Skills",
      img: "/assets/skills-cover.jpg",
      blurb: "Python • Java • C • SQL • Spreadsheets • Web Dev • DSA",
      detail: (
        <div className="grid gap-3 text-slate-300">
          <div>
            <h4 className="font-bold text-slate-100">Core</h4>
            <p>Python, Java, C, Data Structures & Algorithms</p>
          </div>
          <div>
            <h4 className="font-bold text-slate-100">Data Analytics</h4>
            <p>Cleaning, EDA, visualization, insights, storytelling</p>
          </div>
          <div>
            <h4 className="font-bold text-slate-100">Tools</h4>
            <p>SQL, Spreadsheets, basic HTML/CSS/JS</p>
          </div>
        </div>
      ),
    },
    {
      id: "education",
      title: "Education",
      img: "/assets/education-cover.jpg",
      blurb: "B.Tech CSE — Vimal Jyothi Engineering College (2024–2028)",
      detail: (
        <div className="space-y-2 text-slate-300">
          <p>
            B.Tech in Computer Science Engineering at Vimal Jyothi Engineering
            College, Chemperi (2024–2028). Focus: programming, data analytics,
            and problem solving.
          </p>
        </div>
      ),
    },
    {
      id: "certificate",
      title: "Certificate",
      img: "/assets/Coursera-73SYIIEM2EXR.png",
      blurb: "Google Data Analytics Professional Certificate — in progress",
      detail: (
        <div className="space-y-3 text-slate-300">
          <p>
            Click the button below to open your certificate PDF. If you also keep
            the PNG thumbnail in <code>/assets/Coursera-73SYIIEM2EXR.png</code>,
            it will be shown as the cover image.
          </p>
          <a
            href="/assets/Coursera-73SYIIEM2EXR.pdf"
            target="_blank"
            className="inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold bg-white/10 hover:bg-white/20 transition"
          >
            Open PDF
          </a>
        </div>
      ),
    },
  ];

  return (
    <div className="min-h-screen bg-[#0b0b0f] text-slate-100">
      {/* Local font imports */}
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Inter:wght@400;600;800&display=swap');
        .name-font { font-family: 'UnifrakturCook', serif; letter-spacing: 1px; }
        .body-font { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
        .gradient-ring {
          background: conic-gradient(#8b5cf6, #06b6d4, #22c55e, #f59e0b, #ef4444, #8b5cf6);
        }
        .ticker { display:flex; gap:32px; animation: slide 20s linear infinite; }
        @keyframes slide { from { transform: translateX(0); } to { transform: translateX(-50%); } }
        .pill { border-radius: 999px; padding: 6px 14px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08) }
        .glass { background: rgba(255,255,255,.05); backdrop-filter: blur(8px); }
        .shadow-soft { box-shadow: 0 10px 40px rgba(0,0,0,.4) }
      `}</style>

      {/* NAV */}
      <nav className="sticky top-0 z-50 border-b border-white/5 bg-[#0b0b0f]/80 backdrop-blur supports-[backdrop-filter]:bg-[#0b0b0f]/60">
        <div className="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="size-9 rounded-md gradient-ring p-[2px]">
              <div className="size-full rounded-md bg-[#0b0b0f]"></div>
            </div>
            <span className="font-extrabold">Sreeharsh EK</span>
          </div>
          <div className="hidden sm:flex items-center gap-5 text-sm text-slate-300">
            <a href="#about" className="hover:text-white">About</a>
            <a href="#tiles" className="hover:text-white">Work</a>
            <a href="#contact" className="hover:text-white">Contact</a>
          </div>
        </div>
      </nav>

      {/* HERO */}
      <header className="mx-auto max-w-6xl px-4 pt-10 pb-6 body-font">
        {/* Creative name like sample 3 + playful shapes like sample 1 */}
        <div className="text-center">
          <div className="inline-flex items-center gap-4">
            <span className="name-font text-5xl sm:text-6xl md:text-7xl">Sree</span>
            <span className="inline-flex items-center">
              <span className="h-8 md:h-10 w-40 md:w-56 rounded-full bg-white" />
              <span className="-ml-32 md:-ml-40 size-8 md:size-10 rounded-full bg-black" />
            </span>
            <span className="name-font text-5xl sm:text-6xl md:text-7xl">harsh</span>
          </div>
          <p className="mt-4 text-slate-300">Aspiring Data Analyst & Creative Thinker — Thalassery, Kannur</p>
        </div>

        {/* Photo with creative multicolor ring */}
        <div className="mt-8 flex justify-center">
          <div className="relative">
            <div className="gradient-ring rounded-full p-1 md:p-1.5 shadow-soft">
              <div className="rounded-full bg-[#0b0b0f] p-1">
                <img
                  src={encodeURI("/assets/PXL_20250525_072058874.PORTRAIT (1).jpg")}
                  alt="Sreeharsh profile"
                  className="h-36 w-36 sm:h-44 sm:w-44 md:h-56 md:w-56 rounded-full object-cover"
                />
              </div>
            </div>
            {/* subtle floating glow */}
            <div className="absolute -inset-2 -z-10 blur-2xl opacity-20 gradient-ring rounded-full"></div>
          </div>
        </div>

        {/* Moving ticker like news bar */}
        <div className="mt-8 overflow-hidden border-y border-white/10 py-3">
          <div className="ticker whitespace-nowrap text-sm sm:text-base">
            {Array.from({ length: 2 }).map((_, i) => (
              <div key={i} className="flex items-center gap-8 pr-8">
                <span className="pill">Data Analyst</span>
                <span className="pill">Python</span>
                <span className="pill">SQL</span>
                <span className="pill">Data Visualization</span>
                <span className="pill">Web Development</span>
                <span className="pill">DSA</span>
                <span className="pill">Problem Solver</span>
              </div>
            ))}
          </div>
        </div>
      </header>

      {/* BIG TILES (image + short copy; tap to expand) */}
      <section id="tiles" className="mx-auto max-w-6xl px-4 py-8">
        <h2 className="text-2xl font-extrabold tracking-tight">Highlights</h2>
        <p className="text-slate-300 mt-1">Tap any card to view details.</p>

        <div className="mt-6 grid gap-6 sm:grid-cols-2">
          {tiles.map((t) => (
            <button
              key={t.id}
              onClick={() => setModal(t.id)}
              className="group relative overflow-hidden rounded-2xl border border-white/10 glass text-left"
            >
              <div className="aspect-[16/9] w-full bg-white/5">
                <img
                  src={t.img}
                  alt={t.title}
                  className="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
              </div>
              <div className="p-4">
                <h3 className="text-lg font-bold">{t.title}</h3>
                <p className="mt-1 text-sm text-slate-300">{t.blurb}</p>
              </div>
            </button>
          ))}
        </div>
      </section>

      {/* CONTACT */}
      <section id="contact" className="mx-auto max-w-6xl px-4 pb-16">
        <div className="grid gap-6 md:grid-cols-[2fr,1fr] items-center">
          <div className="rounded-2xl p-6 border border-white/10 glass">
            <h2 className="text-2xl font-extrabold">Shall we?</h2>
            <p className="mt-2 text-slate-300">
              Want to collaborate or see my work? Reach out via email or socials.
            </p>
            <div className="mt-4 flex flex-wrap items-center gap-3">
              <a
                href="mailto:sreeharshek0@gmail.com"
                className="inline-flex items-center justify-center rounded-full px-5 py-3 font-semibold bg-white text-black hover:bg-slate-200 transition"
              >
                Email me
              </a>
              <a
                href="https://www.linkedin.com/in/sreeharsh-e-k"
                target="_blank"
                className="pill"
              >
                LinkedIn
              </a>
              <a href="https://github.com/sreeharsh-ai" target="_blank" className="pill">
                GitHub
              </a>
              <a href="https://x.com/Sreeharsh_" target="_blank" className="pill">
                X
              </a>
              <a href="https://www.instagram.com/sreeharsh_25/" target="_blank" className="pill">
                Instagram
              </a>
            </div>
          </div>
          <div className="rounded-2xl border border-white/10 glass p-6 text-slate-300">
            <div className="font-semibold text-slate-100">Contact</div>
            <div className="mt-2 text-sm">sreeharshek0@gmail.com</div>
            <div className="mt-4 text-sm">Thalassery, Kannur, Kerala, India</div>
          </div>
        </div>
        <footer className="mt-8 flex items-center justify-between text-xs text-slate-400">
          <div>© {new Date().getFullYear()} Sreeharsh EK</div>
          <div className="flex gap-4">
            <a href="#about" className="hover:text-slate-200">About</a>
            <a href="#tiles" className="hover:text-slate-200">Highlights</a>
            <a href="#contact" className="hover:text-slate-200">Contact</a>
          </div>
        </footer>
      </section>

      {/* MODALS */}
      {tiles.map((t) => (
        <Modal key={t.id} open={modal === t.id} onClose={() => setModal(null)} title={t.title}>
          <div className="space-y-4">
            <img src={t.img} alt={t.title} className="w-full rounded-xl border border-white/10" />
            {t.detail}
          </div>
        </Modal>
      ))}
    </div>
  );
}

function Modal({
  open,
  onClose,
  title,
  children,
}: {
  open: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}) {
  if (!open) return null;
  return (
    <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-6">
      <div className="absolute inset-0 bg-black/70" onClick={onClose} />
      <div className="relative w-full sm:max-w-2xl rounded-t-2xl sm:rounded-2xl bg-[#0f1117] border border-white/10 shadow-soft">
        <div className="flex items-center justify-between p-4 border-b border-white/10">
          <h3 className="font-bold">{title}</h3>
          <button onClick={onClose} className="pill">Close</button>
        </div>
        <div className="p-4">{children}</div>
      </div>
    </div>
  );
}
